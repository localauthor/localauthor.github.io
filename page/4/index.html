<!DOCTYPE html>

<html data-color-scheme="light">
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>. local author .</title>



<link rel="stylesheet" href="../../css/rocinante.css" />

<link rel="shortcut icon" href=".favicon.png">

<link rel="alternate" type="application/rss+xml" href="../../index.xml" title=". local author ." />
<body>
    <header><h2>
  
  <a href="../../">‹ . local author .</a>
  
</h2>
<p class="horizontal-links"><a href="../../feed"
     
     
     >RSS</a><a href="../../categories"
     
     
     >Categories</a><a href="../../about"
     
     
     >About</a></p>

<about>
  : notes on place, literature, history, and method :
</about>

<hr>
<br>
</header>
    <main>




<div class="paginator">
  
  <a href="../../page/5/" class="older">« Older posts</a>
  
  <div class="inline current-page">Page 4</div>
  
  <a href="../../page/3/" class="newer">Newer posts »</a>
  
</div>


<article class="post-list">
    <div class="title-group">
        <div class="title">
            <h1><a href="../../posts/citekeys/">Citekeys: For Better Research / Life</a></h1>
        </div>
    </div class="title-group">
    <div class="content">
      <p><em>Use <strong>citekeys</strong> to consistently and uniformly correlate in-text references
with original source materials, not just in final submissions but <strong>also in
notes and drafts</strong>.</em></p>
<style>.org-center { margin-left: auto; margin-right: auto; text-align: center; }</style>
<div class="org-center">
  <div></div>
<p><strong>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</strong></p>
</div>
<p>For long research projects, it is necessary not only to keep straight a
variety of sources but also to ensure that in-text references to those
sources are unambiguous. This allows readers to trace all lines of thought to
their original contexts. This is obviously a requirement of all formal
publications.</p>
<p>But a clear and consistent citation practice should not be neglected in the
writing that leads up to a final submission, such as notes, outlines, drafts,
etc. When you are still the project&rsquo;s primary (or only) reader, you must
still be able to trace lines of thought to their origins.</p>
<p>In many cases, this may not be difficult. In the middle of a project, when
everything is fresh in your working memory, you might be able to make sense
of all kinds of non-standard forms of citation, no matter how informal: &ldquo;cite
book on national identity formation,&rdquo; &ldquo;quote comes from that article we read
during week 3,&rdquo; &ldquo;see Foucault 257.&rdquo;</p>
<p>But the larger a project is and the more time that passes between note-taking
and final submission the more effort will be involved in tracing such
citations to their sources.</p>
<p>In the case of a career researcher, informal citations like the above will
inevitably lose their meaning as their originary contexts recede into the
past. Which book on national identity formation was that? Which class? Which
book by Foucault, and <em>which edition</em>?</p>
<p>The use of <em>citekeys</em> can greatly reduce the effort involved in mainlining
clear lines of connection between citations and sources&mdash;not just in final
products but in notes and drafts as well, and not just in single projects but
in a lifetime of research.</p>
<h2 id="citekey-basics">Citekey Basics</h2>
<p>A citekey (or citation key) is a unique code assigned to a particular piece
of source material that can be used to quickly and consistently refer to that
source.</p>
<p>A citekey is typically composed of some combination of the source&rsquo;s year of
publication, its primary author&rsquo;s surname, and/or a short version of its
title.</p>
<p>Here are three different citekeys, in three common styles, that could be used
for the same source, the book <em>Imagined Communities</em> by Benedict Anderson.
Each offers a far more precise indication of what source is being referred to
than the comparatively ambiguous &ldquo;cite book on national identity formation&rdquo;:</p>
<pre tabindex="0"><code class="language-nil" data-lang="nil">Anderson2006
andersonImaginedCommunities2006
anderson2006_ImaginedCommunities
</code></pre><p>It is important to note that citekeys are not expected to be clearly
understandable to anyone other than the researcher who assigns them.
Consider that &ldquo;Anderson2006&rdquo; in the example above could refer to any number
of publications from the year 2006 by anyone with the surname Anderson.</p>
<p>In this way citekeys are unlike ISBN or DOI numbers: they are not universal
indicators&mdash;they do not point directly and unambiguously to particular
sources themselves.</p>
<p>Rather, citekeys point to a researcher&rsquo;s own individual collection of
bibliographic entries (more on this ahead). Citekeys offer, as a result, a
simple, private system of shorthand for encoding reference information into
any written document, all without the work entailed in writing out full
formal citations and bibliographic entries in every instance.</p>
<p>Given their simplicity and ease of use, citekeys help to lower any barriers
that might otherwise have impeded the inclusion of clear, reliable citations
in even the most informal of written documents, including and especially
those that are not intended for publication. They thereby help to eliminate
any temptation to insert ambiguous and cryptic notes-to-self that risk
baffling more than benefiting.</p>
<h2 id="your-bibliographic-database">Your Bibliographic Database</h2>
<p>For texts that are intended to be published, citekeys offer great
flexibility, as they can be easily replaced with formal citations in whatever
citation style is appropriate to the intended context, such as Chicago, MLA,
Harvard, APA, etc.</p>
<p>This requires maintaining a centralized repository of bibliographic
information wherein all citekeys are listed with relevant information about
the associated source. This may sound more complicated than it is.</p>
<p>While it is possible to manage bibliographic information with one of the many
popular reference management programs&mdash;such as Zotero, Endnote, or
Mandeley&mdash;it is equally possible to maintain nothing more than a simple text
document of entries like the following:</p>
<pre tabindex="0"><code class="language-nil" data-lang="nil">@book{Anderson2006,
        title = &#34;Imagined Communities: Reflections on the Origin and Spread of Nationalism&#34;,
        author = Anderson, Benedict&#34;,
        year = &#34;2006&#34;,
        publisher = &#34;Verso&#34;,
        address = &#34;London; New York&#34;,
}
</code></pre><p>The above entry happens to be written in a standardized format called BibTeX,
often used or at least supported by reference management software. For the
sake of future-proofing your bibliography, it might be worthwhile to use such
a standardized format.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>But such entries can easily be written and maintained in any format and
without such software, using nothing more than a plaintext editing program
like TextEdit (MacOS) or Notepad (Windows). The most important thing is to
include all the relevant information about the source and associate it with a
unique citekey.</p>
<p>From such information, it will be possible to produce citations and
references in any of a seemingly endless array of standardized citation
styles.<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<h2 id="key-rule-be-consistent">Key Rule: Be Consistent</h2>
<p>No matter what style of citekey or method of bibliography management is used,
internal consistency is essential. Use a consistent citekey style&mdash;I use
AuthorYEAR, like &ldquo;Anderson2006&rdquo;&mdash;so that each source is associated with a
only single citekey. Do not use both &ldquo;Anderson2006&rdquo; and
&ldquo;andersonImaginedCommunities2006.&rdquo;</p>
<p>Also, take care to ensure that each citekey is associated with only a single
source. If you add a source by a different Anderson also written in 2006,
assign it a unique citekey, like &ldquo;Anderson2006a&rdquo; or &ldquo;Anderson2006-1.&rdquo;</p>
<p>Note that using citekeys also makes it easy to include and distinguish
between different editions of a single text. You might also have reason to
cite the first edition of <em>Imagined Communities</em> (1983) alongside the
reprint. Luckily, there is no confusing &ldquo;Anderson1983&rdquo; and &ldquo;Anderson2006.&rdquo;</p>
<h2 id="citekeys-in-use">Citekeys In Use</h2>
<p>Choosing a citekey style, assigning citekeys to sources, and keeping them all
matched up in a bibliography database is only the beginning.</p>
<p>Once you&rsquo;ve done all that, how to go about putting them to use in your
writings?</p>
<p>Here is an example from my reading notes:</p>
<blockquote>
<p>Heise cites [#Anderson2006], who make a similar connection between representations and identity-formation.[5][#Heise2008]</p></blockquote>
<p>I was not taking these notes for any specific project or a potential
publication where accurate citations would be necessary. Nevertheless, it was
so simple to include the citekeys and a page reference that I didn&rsquo;t consider
<em>not</em> doing it.</p>
<p>It was the use of citekeys, formatted in a distinct syntax&mdash;in brackets,
preceed by the hash sign<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>&mdash;that made it effortless to find this
reference (along with several others) to Anderson&rsquo;s <em>Imagined Communities</em> in
a file on my computer that is not obviously about the text in question and
that I haven&rsquo;t looked at or thought about since I wrote it. How about that?</p>
<h2 id="bonus-pdf-management">Bonus: PDF Management</h2>
<p>Aside from helping you keep your citations legible and locate deeply embedded
notes in the recesses of your file system, citekeys can also help you keep
track of PDFs and other digital documents. No longer worry over what to name
that PDF. Enter its information into your bibliography file, assign it a
citekey, and use the citekey as the name of the file. You&rsquo;ll never have to
guess what &ldquo;Anderson2006.pdf&rdquo; contains.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://www.bibtex.com/g/bibtex-format/" target="_blank">https://www.bibtex.com/g/bibtex-format/</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://citationstyles.org" target="_blank">https://citationstyles.org</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>These citations are in a syntax called <a href="https://fletcher.github.io/MultiMarkdown-5/citations.html" target="_blank">MultiMarkdown</a>. A similar syntax, called <a href="https://pandoc.org/MANUAL.html#citation-syntax" target="_blank">Pandoc</a>, uses the <code>@</code> prefix instead of the <code>#</code>, among other differences: [@Anderson2006, p 22-23].&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

    </div>
</article>

<article class="post-list">
    <div class="title-group">
        <div class="title">
            <h1><a href="../../posts/coracoid/">Coracoid</a></h1>
        </div>
    </div class="title-group">
    <div class="content">
      <p>\Cor&quot;a*coid\, a.[Gr. ?; ko`rax crow + e&rsquo;i^dos form.]</p>
<ol>
<li>
<p>Shaped like a crow&rsquo;s beak.</p>
</li>
<li>
<p>(Anat.) Pertaining to a bone of the shoulder girdle in
most birds, reptiles, and amphibians, which is reduced to
a process of the scapula in most mammals.</p>
</li>
</ol>
<p><em>Webster&rsquo;s Revised Unabridged Dictionary (1913)</em></p>

    </div>
</article>

<article class="post-list">
    <div class="title-group">
        <div class="title">
            <h1><a href="../../posts/aw-select/">Emacs: With ace-window and link-hint, open links exactly where you want them</a></h1>
        </div>
    </div class="title-group">
    <div class="content">
      <p><em>This post describes how the Emacs package <a href="http://github.com/noctuid/link-hint.el" target="_blank">link-hint</a> can be combined with
<a href="https://github.com/abo-abo/ace-window" target="_blank">ace-window</a> to allow you to select, on-the-fly, which window a link will open in&mdash;instead of letting fate, or custom, or Emacs decide for you.</em></p>
<style>.org-center { margin-left: auto; margin-right: auto; text-align: center; }</style>
<div class="org-center">
<p><strong>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</strong></p>
</div>
<h2 id="ace-window-is--more-than--a-fancy-window-switcher">Ace-window is (more than) a fancy window-switcher</h2>
<p>The ace-window package, written by <a href="https://github.com/abo-abo" target="_blank">abo-abo</a>, offers a handy, full-featured
alternative to the built-in window-switching function <code>other-window</code>. The
package&rsquo;s primary function&mdash;the titular <code>ace-window</code>&mdash;overlays a different
character (letter or number) over each visible Emacs window, so you can
switch to the desired window by simply pressing its assigned character. Very
useful, very sleek.</p>
<p>But ace-window is more than just a handy way to switch windows.</p>
<p>The package also offers the ability to perform an action in the selected
window before switching to it. In this regard, it follows the design of its
parent package <a href="https://github.com/abo-abo/avy" target="_blank">avy</a>&mdash;also by abo-abo. Instead of simply switching to a
window, you can <a href="https://github.com/abo-abo/ace-window#aw-dispatch-alist" target="_blank">split it first, call switch-to-buffer in it, or even close
it</a>. For a demonstration of this aspect of ace-window, see <a href="https://www.youtube.com/watch?v=I3BvGZ3m8Oo" target="_blank">this video
from Protesilaos Stavrou</a>.)</p>
<p>The greatness of ace-window truly comes through, however, when it is combined
with other packages.</p>
<h2 id="with-ace-window-and-embark-open-files-buffers-in-specified-windows">With ace-window and Embark, open files/buffers in specified windows</h2>
<p>In his <a href="https://karthinks.com/software/fifteen-ways-to-use-embark/" target="_blank">detailed write-up on using Embark</a>, Karthik Chikmagalur showcases a
killer mash-up of ace-window and Embark, demonstrating how ace-window can be
used for more than just switching windows.</p>
<p>Briefly put, Karthik shows how to incorporate ace-window&rsquo;s window-selection
function into the opening of a file or buffer from the minibuffer so that, as
he writes, &ldquo;any buffer/file/bookmark I open is always placed exactly where I
want it to be on the screen.&rdquo;</p>
<p>An example usage would be:</p>
<ol>
<li>call <code>find-file</code></li>
<li>call <code>embark-act</code> on file you wish to open</li>
<li>call <code>my/embark-ace-action-find-file</code> (this is the slightly unwieldy name
Karthik gives to the embark/ace-window function)</li>
<li>select desired window with <code>ace-window</code></li>
</ol>
<h2 id="with-ace-window-and-link-hint-follow-links-in-specified-windows">With ace-window and link-hint, follow links in specified windows</h2>
<p>Inspired by what Karthik showed was possible, I wanted to incorporate
ace-window with link-hint, so that I could choose which window a link
would open in. The result is a function called <code>link-hint-aw-select</code>:</p>
<figure><img src="../../images/aw-select-demo.gif"
    alt="Figure 1: Using &rsquo;link-hint-aw-select&rsquo; to open each of the links in the top left window in a different window. First, the desired link is chosen via character overlay, courtsey of link-hint, then the desired window is chosen via character overlay, courtsey of ace-window."><figcaption>
      <p><span class="figure-number">Figure 1: </span>Using &rsquo;link-hint-aw-select&rsquo; to open each of the links in the top left window in a different window. First, the desired link is chosen via character overlay, courtsey of link-hint, then the desired window is chosen via character overlay, courtsey of ace-window.</p>
    </figcaption>
</figure>

<p>If you&rsquo;re unfamiliar, link-hint is a package that is conceptually similar to
ace-window: it puts a character overlay on visible links in a buffer so that
you can choose a link to follow by typing its assigned character. (The
conceptual similarity of link-hint and ace-window is not surprising, since
both are based on avy.)</p>
<p>Link-hint can identify a lot of different type of links, such as urls, file
paths, mailto links, org-links, buttons, and dired filenames. New link
types can also be defined by the user. (More on that later.)</p>
<p>As with avy and ace-window, link-hint allows for different actions to
performed on the chosen link. However, there are only two default actions for acting on links: open link and copy link.</p>
<p>Defining a new action is done by defining a new function, in this case the
above-mentioned <code>link-hint-aw-select</code>, which will be entry-point command for all link types:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#a90d91">defun</span> <span style="color:#000">link-hint-aw-select</span> ()
</span></span><span style="display:flex;"><span>  <span style="color:#c41a16">&#34;Use avy to open a link in a window selected with ace-window.&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#a90d91">interactive</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#a90d91">unless</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#000">avy-with</span> <span style="color:#000">link-hint-aw-select</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#000">link-hint--one</span> <span style="color:#a90d91">:aw-select</span>))
</span></span><span style="display:flex;"><span>    (<span style="color:#000">message</span> <span style="color:#c41a16">&#34;No visible links&#34;</span>)))
</span></span></code></pre></div><p>Things get more complicated very quickly, however.</p>
<p>Each action must be tailored to each different link type. Take the case of
the &ldquo;open&rdquo; action, for examples: urls open one way&mdash;in a browser&mdash;and
filepaths open another way&mdash;in a relevant application&mdash;and email addresses
open another way&mdash;in a new draft email. Each action is actually many
different actions, all roughly similar.</p>
<p>When creating a new action, then, it is necessary to make sure that each link
type is associated with a function that will perform the new action in the
appropriate way.</p>
<p>The <code>aw-select</code> action for file links is quite simple:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#a90d91">defun</span> <span style="color:#000">link-hint--aw-select-file-link</span> (<span style="color:#000">link</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#a90d91">with-demoted-errors</span> <span style="color:#c41a16">&#34;%s&#34;</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#000">aw-switch-to-window</span> (<span style="color:#000">aw-select</span> <span style="color:#000">nil</span>))
</span></span><span style="display:flex;"><span>    (<span style="color:#000">find-file</span> <span style="color:#000">link</span>)))
</span></span></code></pre></div><p>To make the link-hint ecosystem aware of this new association of link-type,
action, and function, there is a handy macro:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#000">link-hint-define-type</span> <span style="color:#c41a16">&#39;file-link</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a90d91">:aw-select</span> <span style="color:#000">#&#39;</span><span style="color:#000">link-hint--aw-select-file-link</span>)
</span></span></code></pre></div><p>If different link-types behave similarly, it is possible to create a macro
of our own that will do all of the above very efficiently. This is the case with buttons and dired-filenames, for example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#a90d91">defmacro</span> <span style="color:#000">define-link-hint-aw-select</span> (<span style="color:#000">link-type</span> <span style="color:#000">fn</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#000">`</span>(<span style="color:#a90d91">progn</span>
</span></span><span style="display:flex;"><span>     (<span style="color:#000">link-hint-define-type</span> <span style="color:#c41a16">&#39;,link-type</span>
</span></span><span style="display:flex;"><span>       <span style="color:#a90d91">:aw-select</span> <span style="color:#000">#&#39;</span><span style="color:#000">,</span>(<span style="color:#000">intern</span> (<span style="color:#000">concat</span> <span style="color:#c41a16">&#34;link-hint--aw-select-&#34;</span>
</span></span><span style="display:flex;"><span>                                     (<span style="color:#000">symbol-name</span> <span style="color:#000">link-type</span>))))
</span></span><span style="display:flex;"><span>     (<span style="color:#a90d91">defun</span> <span style="color:#000">,</span>(<span style="color:#000">intern</span> (<span style="color:#000">concat</span> <span style="color:#c41a16">&#34;link-hint--aw-select-&#34;</span>
</span></span><span style="display:flex;"><span>                             (<span style="color:#000">symbol-name</span> <span style="color:#000">link-type</span>))) (<span style="color:#000">_link</span>)
</span></span><span style="display:flex;"><span>       (<span style="color:#a90d91">with-demoted-errors</span> <span style="color:#c41a16">&#34;%s&#34;</span>
</span></span><span style="display:flex;"><span>         (<span style="color:#a90d91">if</span> (<span style="color:#000">&gt;</span> (<span style="color:#000">length</span> (<span style="color:#000">aw-window-list</span>)) <span style="color:#1c01ce">1</span>)
</span></span><span style="display:flex;"><span>             (<span style="color:#a90d91">let</span> ((<span style="color:#000">window</span> (<span style="color:#000">aw-select</span> <span style="color:#000">nil</span>))
</span></span><span style="display:flex;"><span>                   (<span style="color:#000">buffer</span> (<span style="color:#000">current-buffer</span>))
</span></span><span style="display:flex;"><span>                   (<span style="color:#000">new-buffer</span>))
</span></span><span style="display:flex;"><span>               (<span style="color:#000">,</span><span style="color:#000">fn</span>)
</span></span><span style="display:flex;"><span>               (<span style="color:#a90d91">setq</span> <span style="color:#000">new-buffer</span> (<span style="color:#000">current-buffer</span>))
</span></span><span style="display:flex;"><span>               (<span style="color:#000">switch-to-buffer</span> <span style="color:#000">buffer</span>)
</span></span><span style="display:flex;"><span>               (<span style="color:#000">aw-switch-to-window</span> <span style="color:#000">window</span>)
</span></span><span style="display:flex;"><span>               (<span style="color:#000">switch-to-buffer</span> <span style="color:#000">new-buffer</span>))
</span></span><span style="display:flex;"><span>           (<span style="color:#000">link-hint-open-link-at-point</span>))))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#000">define-link-hint-aw-select</span> <span style="color:#000">button</span> <span style="color:#000">push-button</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#000">define-link-hint-aw-select</span> <span style="color:#000">dired-filename</span> <span style="color:#000">dired-find-file</span>)
</span></span></code></pre></div><p>The same is <em>almost</em> the case with org-links as well, except that by default
org-links are opened using <code>find-file-other-window</code> instead of <code>find-file</code>,
meaning that the above macro wouldn&rsquo;t work properly.</p>
<p>I prefer to change this setting globally, so that org-links are opened in the
current window, by evaluating the following:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#a90d91">setf</span> (<span style="color:#000">cdr</span> (<span style="color:#000">assoc</span> <span style="color:#c41a16">&#39;file</span> <span style="color:#000">org-link-frame-setup</span>)) <span style="color:#c41a16">&#39;find-file</span>)
</span></span></code></pre></div><p>This allows me to use the macro:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#000">define-link-hint-aw-select</span> <span style="color:#000">org-link</span> <span style="color:#000">org-open-at-point</span>)
</span></span></code></pre></div><p>To leave org&rsquo;s default behavior in place globally, it is necessary to define
a function specifically for org-links, in which the behavior is changed
locally in a let-binding:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#a90d91">defun</span> <span style="color:#000">link-hint--aw-select-org-link</span> (<span style="color:#000">_link</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#a90d91">let</span> ((<span style="color:#000">org-link-frame-setup</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000">&#39;</span>((<span style="color:#000">file</span> <span style="color:#000">.</span> <span style="color:#000">find-file</span>))))
</span></span><span style="display:flex;"><span>    (<span style="color:#a90d91">with-demoted-errors</span> <span style="color:#c41a16">&#34;%s&#34;</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#a90d91">if</span> (<span style="color:#000">&gt;</span> (<span style="color:#000">length</span> (<span style="color:#000">aw-window-list</span>)) <span style="color:#1c01ce">1</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#a90d91">let</span> ((<span style="color:#000">window</span> (<span style="color:#000">aw-select</span> <span style="color:#000">nil</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#000">buffer</span> (<span style="color:#000">current-buffer</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#000">new-buffer</span>))
</span></span><span style="display:flex;"><span>            (<span style="color:#000">org-open-at-point</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#a90d91">setq</span> <span style="color:#000">new-buffer</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#000">current-buffer</span>))
</span></span><span style="display:flex;"><span>            (<span style="color:#000">switch-to-buffer</span> <span style="color:#000">buffer</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#000">aw-switch-to-window</span> <span style="color:#000">window</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#000">switch-to-buffer</span> <span style="color:#000">new-buffer</span>))
</span></span><span style="display:flex;"><span>        (<span style="color:#000">link-hint-open-link-at-point</span>)))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#000">link-hint-define-type</span> <span style="color:#c41a16">&#39;org-link</span> <span style="color:#a90d91">:aw-select</span> <span style="color:#000">#&#39;</span><span style="color:#000">link-hint--aw-select-org-link</span>)
</span></span></code></pre></div><p>Things are actually even a bit more complicated than this with org-links.</p>
<p>Since org handles different link-types internally, the function
<code>link-hint--aw-select-org-link</code> can also be made to handle certain org
link-types differently. For example, if you want http/https links to be
opened externally, there is no reason to call the <code>aw-select</code> behavior for
that type of org-link. This could be accomplished by including something like
the following in the function&rsquo;s &ldquo;if&rdquo; conditional:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#000">not</span> (<span style="color:#000">member</span> (<span style="color:#000">org-element-property</span> <span style="color:#a90d91">:type</span> (<span style="color:#000">org-element-context</span>))
</span></span><span style="display:flex;"><span>             <span style="color:#000">&#39;</span>(<span style="color:#c41a16">&#34;http&#34;</span> <span style="color:#c41a16">&#34;https&#34;</span>)))
</span></span></code></pre></div><p>The whole function would be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#a90d91">defun</span> <span style="color:#000">link-hint--aw-select-org-link</span> (<span style="color:#000">_link</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#a90d91">let</span> ((<span style="color:#000">org-link-frame-setup</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000">&#39;</span>((<span style="color:#000">file</span> <span style="color:#000">.</span> <span style="color:#000">find-file</span>))))
</span></span><span style="display:flex;"><span>    (<span style="color:#a90d91">with-demoted-errors</span> <span style="color:#c41a16">&#34;%s&#34;</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#a90d91">if</span> (<span style="color:#a90d91">and</span> (<span style="color:#000">&gt;</span> (<span style="color:#000">length</span> (<span style="color:#000">aw-window-list</span>)) <span style="color:#1c01ce">1</span>)
</span></span><span style="display:flex;"><span>               (<span style="color:#000">not</span> (<span style="color:#000">member</span> (<span style="color:#000">org-element-property</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#a90d91">:type</span> (<span style="color:#000">org-element-context</span>))
</span></span><span style="display:flex;"><span>                       <span style="color:#000">&#39;</span>(<span style="color:#c41a16">&#34;http&#34;</span> <span style="color:#c41a16">&#34;https&#34;</span>))))
</span></span><span style="display:flex;"><span>          (<span style="color:#a90d91">let</span> ((<span style="color:#000">window</span> (<span style="color:#000">aw-select</span> <span style="color:#000">nil</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#000">buffer</span> (<span style="color:#000">current-buffer</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#000">new-buffer</span>))
</span></span><span style="display:flex;"><span>            (<span style="color:#000">org-open-at-point</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#a90d91">setq</span> <span style="color:#000">new-buffer</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#000">current-buffer</span>))
</span></span><span style="display:flex;"><span>            (<span style="color:#000">switch-to-buffer</span> <span style="color:#000">buffer</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#000">aw-switch-to-window</span> <span style="color:#000">window</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#000">switch-to-buffer</span> <span style="color:#000">new-buffer</span>))
</span></span><span style="display:flex;"><span>        (<span style="color:#000">link-hint-open-link-at-point</span>)))))
</span></span></code></pre></div><h2 id="example-use-case-note-taking-zettelkasten-etc-dot">Example use-case: note-taking, zettelkasten, etc.</h2>
<p>I find this functionality really useful in my note-taking environment, where
each of my notes contains several links to other notes. I rarely want to
follow a link in the same window as the note where the link appears. I
typically want to leave that note where it is and open a link somewhere else.
If I have several windows arrayed around my screen, I can use
<code>link-hint-aw-select</code> to open the linked note exactly where I want it to be.</p>
<p>To use this with org, the above configuration is enough. If you use another note-taking environment, you may need to define a new link type.</p>
<p>For example, for use with my own Zettelkasten package <a href="https://github.com/localauthor/zk" target="_blank">zk</a>, I define a new link
type <code>zk-link</code> and a function <code>zk-link-hint-aw-select</code>, along with other
functions necessary to fully incorporate a new link type into the link-hint
system:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#a90d91">defun</span> <span style="color:#000">zk-link-hint--zk-link-at-point-p</span> ()
</span></span><span style="display:flex;"><span>  <span style="color:#c41a16">&#34;Return the ID for the zk-link at the point or nil.&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#a90d91">and</span> (<span style="color:#000">zk--id-at-point</span>)
</span></span><span style="display:flex;"><span>       (<span style="color:#000">thing-at-point-looking-at</span> <span style="color:#000">zk-link-regexp</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#a90d91">defun</span> <span style="color:#000">zk-link-hint--next-zk-link</span> (<span style="color:#000">bound</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#c41a16">&#34;Find the unext zk-link.
</span></span></span><span style="display:flex;"><span><span style="color:#c41a16">Only search the range between just after the point and BOUND.&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#000">link-hint--next-regexp</span> <span style="color:#000">zk-id-regexp</span> <span style="color:#000">bound</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#a90d91">defun</span> <span style="color:#000">link-hint--aw-select-zk-link</span> (<span style="color:#000">id</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#a90d91">with-demoted-errors</span> <span style="color:#c41a16">&#34;%s&#34;</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#a90d91">if</span> (<span style="color:#000">&gt;</span> (<span style="color:#000">length</span> (<span style="color:#000">aw-window-list</span>)) <span style="color:#1c01ce">1</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#a90d91">let</span> ((<span style="color:#000">window</span> (<span style="color:#000">aw-select</span> <span style="color:#000">nil</span>))
</span></span><span style="display:flex;"><span>              (<span style="color:#000">buffer</span> (<span style="color:#000">current-buffer</span>))
</span></span><span style="display:flex;"><span>              (<span style="color:#000">new-buffer</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#000">zk-follow-link-at-point</span> <span style="color:#000">id</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#a90d91">setq</span> <span style="color:#000">new-buffer</span>
</span></span><span style="display:flex;"><span>                (<span style="color:#000">current-buffer</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#000">switch-to-buffer</span> <span style="color:#000">buffer</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#000">aw-switch-to-window</span> <span style="color:#000">window</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#000">switch-to-buffer</span> <span style="color:#000">new-buffer</span>))
</span></span><span style="display:flex;"><span>      (<span style="color:#000">link-hint-open-link-at-point</span>))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#000">link-hint-define-type</span> <span style="color:#c41a16">&#39;zk-link</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a90d91">:next</span> <span style="color:#000">#&#39;</span><span style="color:#000">zk-link-hint--next-zk-link</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a90d91">:at-point-p</span> <span style="color:#000">#&#39;</span><span style="color:#000">zk-link-hint--zk-link-at-point-p</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a90d91">:open</span> <span style="color:#000">#&#39;</span><span style="color:#000">zk-follow-link-at-point</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a90d91">:copy</span> <span style="color:#000">#&#39;</span><span style="color:#000">kill-new</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a90d91">:aw-select</span> <span style="color:#000">#&#39;</span><span style="color:#000">link-hint--aw-select-zk-link</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#a90d91">push</span> <span style="color:#c41a16">&#39;link-hint-zk-link</span> <span style="color:#000">link-hint-types</span>)
</span></span></code></pre></div><p>Even though link-hint can be a bit complex under the hood, it is quite
effortless, even elegant, when put in combination with ace-window. Give
it a try and puzzle over what you had done so long without it.</p>

    </div>
</article>

<br>
<div class="paginator">
  
  <a href="../../page/5/" class="older">« Older posts</a>
  
  <div class="inline current-page">Page 4</div>
  
  <a href="../../page/3/" class="newer">Newer posts »</a>
  
</div>


    </main>
    <footer><hr>

</footer>
  </body>
</html>
